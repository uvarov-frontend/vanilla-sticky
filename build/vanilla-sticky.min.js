"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var VanillaSticky=function(){function i(t){var e;_classCallCheck(this,i),this.HTMLElement=null!=(e=t.HTMLElement)?e:null,this.position=null!=(e=t.type)?e:"auto",this.stretch=null==(e=t.stretch)||e,this.resize=null==(e=t.resize)||e,this.indents={top:null!=(e=null==(e=t.indents)?void 0:e.top)?e:0,bottom:null!=(t=null==(e=t.indents)?void 0:e.bottom)?t:0},this.location=void 0,this.freeplace=0,this.scroll=0}return _createClass(i,[{key:"calcPosition",value:function(){switch(this.freeplace=window.innerHeight-this.indents.top-this.indents.bottom,"auto"===this.position?this.HTMLElement.clientHeight<this.freeplace?this.location="top":this.location="bottom":this.location=this.position,this.location){case"top":this.scroll=this.indents.top;break;case"bottom":this.scroll=window.innerHeight-this.HTMLElement.clientHeight-this.indents.bottom;break;default:console.error('Invalid position: "'.concat(this.position,'". Available positions: "auto", "top", "bottom".'))}}},{key:"stickBlock",value:function(){this.HTMLElement.style.position="sticky",this.HTMLElement.style.top="".concat(this.scroll,"px"),this.stretch&&"top"===this.location&&(this.HTMLElement.style.minHeight="".concat(this.freeplace,"px"))}},{key:"windowResize",value:function(){var e,i=this;this.resize&&(e=window.innerHeight,window.addEventListener("resize",function(t){(t.target.innerHeight>e||t.target.innerHeight<e)&&(i.calcPosition(),i.stickBlock(),e=t.target.innerHeight)}))}},{key:"update",value:function(){this.calcPosition(),this.stickBlock()}},{key:"init",value:function(){this.HTMLElement&&(this.calcPosition(),this.stickBlock(),this.windowResize())}}]),i}();exports.default=VanillaSticky;