"use strict";function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,i,e){return i&&_defineProperties(t.prototype,i),e&&_defineProperties(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var VanillaSticky=function(){function e(t){var i;_classCallCheck(this,e),this.HTMLElement=null!=(i=t.HTMLElement)?i:null,this.position=null!=(i=t.type)?i:"auto",this.stretch=null==(i=t.stretch)||i,this.resize=null==(i=t.resize)||i,this.indents={top:null!=(i=null==(i=t.indents)?void 0:i.top)?i:0,bottom:null!=(i=null==(i=t.indents)?void 0:i.bottom)?i:0},this.window={min:null!=(i=null==(i=t.window)?void 0:i.min)?i:null,max:null!=(t=null==(i=t.window)?void 0:i.max)?t:null},this.location=void 0,this.freeplace=0,this.scroll=0}return _createClass(e,[{key:"calcPosition",value:function(){switch(this.freeplace=window.innerHeight-this.indents.top-this.indents.bottom,"auto"===this.position?this.HTMLElement.clientHeight<this.freeplace?this.location="top":this.location="bottom":this.location=this.position,this.location){case"top":this.scroll=this.indents.top;break;case"bottom":this.scroll=window.innerHeight-this.HTMLElement.clientHeight-this.indents.bottom;break;default:console.error('Invalid position: "'.concat(this.position,'". Available positions: "auto", "top", "bottom".'))}}},{key:"stickBlock",value:function(){this.HTMLElement.style.position="sticky",this.HTMLElement.style.top="".concat(this.scroll,"px"),this.stretch&&"top"===this.location&&(this.HTMLElement.style.minHeight="".concat(this.freeplace,"px"))}},{key:"windowResize",value:function(){var i,e=this;this.resize&&(i=window.innerHeight,window.addEventListener("resize",function(t){e.window.min&&window.innerWidth<e.window.min||e.window.max&&window.innerWidth>e.window.max||(t.target.innerHeight>i||t.target.innerHeight<i)&&(i=t.target.innerHeight,e.calcPosition(),e.stickBlock())}))}},{key:"update",value:function(){this.calcPosition(),this.stickBlock()}},{key:"init",value:function(){this.HTMLElement&&(this.windowResize(),this.window.min&&window.innerWidth<this.window.min||this.window.max&&window.innerWidth>this.window.max||(this.calcPosition(),this.stickBlock()))}}]),e}();exports.default=VanillaSticky;